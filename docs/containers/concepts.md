--- 
title: –ö–æ–Ω—Ü–µ–ø—Ü–∏–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
---

# üî≠ –ö–æ–Ω—Ü–µ–ø—Ü–∏–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ **Kubernetes**, `etcd` –∏ `Consul`, —è–≤–ª—è—é—Ç—Å—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏. –î–ª—è –∏—Ö —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ –∏ —Ç—Ä–∞–±–ª—à—É—Ç–∏–Ω–≥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–Ω–∏–º–∞—Ç—å —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö –æ–Ω–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã.

–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –ø–æ—Å–≤—è—â—ë–Ω –∫–ª—é—á–µ–≤—ã–º —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–º –∫–æ–Ω—Ü–µ–ø—Ü–∏—è–º, —Ç–∞–∫–∏–º –∫–∞–∫ **—Ç–µ–æ—Ä–µ–º–∞ CAP** –∏ **–∞–ª–≥–æ—Ä–∏—Ç–º—ã –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞**.

---

## üèõÔ∏è –¢–µ–æ—Ä–µ–º–∞ CAP

!!! abstract "–ß—Ç–æ —Ç–∞–∫–æ–µ —Ç–µ–æ—Ä–µ–º–∞ CAP?"

    –¢–µ–æ—Ä–µ–º–∞ CAP, —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≠—Ä–∏–∫–æ–º –ë—Ä—é–µ—Ä–æ–º, —É—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ –ª—é–±–∞—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å **–Ω–µ –±–æ–ª–µ–µ –¥–≤—É—Ö** –∏–∑ —Ç—Ä—ë—Ö —Å–ª–µ–¥—É—é—â–∏—Ö –≥–∞—Ä–∞–Ω—Ç–∏–π:

    1.  **–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å (Consistency, C)**: –í—Å–µ —É–∑–ª—ã –≤–∏–¥—è—Ç –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏. –õ—é–±–æ–µ —á—Ç–µ–Ω–∏–µ –≤–µ—Ä–Ω—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–π —É—Å–ø–µ—à–Ω–æ–π –∑–∞–ø–∏—Å–∏.
    2.  **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (Availability, A)**: –ö–∞–∂–¥—ã–π –Ω–µ –æ—Ç–∫–∞–∑–∞–≤—à–∏–π —É–∑–µ–ª –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å (–±–µ–∑ –≥–∞—Ä–∞–Ω—Ç–∏–∏, —á—Ç–æ —ç—Ç–æ —Å–∞–º—ã–µ —Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ).
    3.  **–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é (Partition Tolerance, P)**: –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –¥–∞–∂–µ –µ—Å–ª–∏ —Å–≤—è–∑—å –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ —É–∑–ª–æ–≤ ("—Ä–∞–∑–¥–µ–ª") –Ω–∞—Ä—É—à–µ–Ω–∞.

–í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –≤ –æ–±–ª–∞–∫–µ –∏–ª–∏ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä–∞—Ö, —Å–µ—Ç–µ–≤—ã–µ —Å–±–æ–∏ (**P**) ‚Äî —ç—Ç–æ –Ω–µ –≥–∏–ø–æ—Ç–µ—Ç–∏—á–µ—Å–∫–∞—è, –∞ **–Ω–µ–∏–∑–±–µ–∂–Ω–∞—è** —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å. –ü–æ—ç—Ç–æ–º—É –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º —Å–≤–æ–π—Å—Ç–≤–æ–º.

!!! success "–ö–ª—é—á–µ–≤–æ–π –≤—ã–≤–æ–¥"

    –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –≤—ã–±–æ—Ä –≤—Å–µ–≥–¥–∞ —Å–≤–æ–¥–∏—Ç—Å—è –∫ –¥–≤—É–º –º–æ–¥–µ–ª—è–º: **CP** –∏–ª–∏ **AP**. –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç **P**.

### ‚õìÔ∏è CP-—Å–∏—Å—Ç–µ–º—ã

–¢–∞–∫–∏–µ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é—Ç **—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏.

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ —Ä–∞–∑–¥–µ–ª–µ:** –ï—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –º–æ–∂–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –≤—Å–µ —É–∑–ª—ã –ø–æ–ª—É—á–∞—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∏–∑-–∑–∞ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–±–æ—è), –æ–Ω–∞ **–æ—Ç–∫–∞–∂–µ—Ç –≤ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–∏** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–µ—Ä–Ω—ë—Ç –æ—à–∏–±–∫—É –∏–ª–∏ –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –∑–∞–ø–∏—Å—å).

**–ü—Ä–∏–º–µ—Ä—ã:**

*   `etcd`, `Zookeeper`, `Consul`: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ, —á—Ç–æ–±—ã –≤—Å–µ —É–∑–ª—ã Control Plane –≤–∏–¥–µ–ª–∏ –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –õ—É—á—à–µ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–∞–∑–∞—Ç—å –≤ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–∏, —á–µ–º –¥–æ–ø—É—Å—Ç–∏—Ç—å —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é.
*   –†–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ –∫–ª–∞—Å—Ç–µ—Ä–Ω–æ–º —Ä–µ–∂–∏–º–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `PostgreSQL` —Å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–µ–π).

### üåê AP-—Å–∏—Å—Ç–µ–º—ã

–¢–∞–∫–∏–µ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é—Ç **–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å** —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏.

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ —Ä–∞–∑–¥–µ–ª–µ:** –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã, –¥–∞–∂–µ –µ—Å–ª–∏ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ä–∞–∑–Ω—ã–µ —É–∑–ª—ã –º–æ–≥—É—Ç –≤–µ—Ä–Ω—É—Ç—å **—É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥–∞–Ω–Ω—ã–µ**. –°–æ –≤—Ä–µ–º–µ–Ω–µ–º, –∫–æ–≥–¥–∞ —Å–µ—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è, –¥–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è (–º–æ–¥–µ–ª—å **"—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –≤ –∫–æ–Ω–µ—á–Ω–æ–º —Å—á—ë—Ç–µ"** –∏–ª–∏ **Eventual Consistency**).

**–ü—Ä–∏–º–µ—Ä—ã:**

*   `Cassandra`, `DynamoDB`, `Riak`: –ò–¥–µ–∞–ª—å–Ω—ã –¥–ª—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤, –≥–¥–µ –≤—Ä–µ–º–µ–Ω–Ω–∞—è —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–æ–ø—É—Å—Ç–∏–º–∞, –Ω–æ –æ—Ç–∫–∞–∑ –≤ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–∏ ‚Äî –Ω–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏, IoT-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã).

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | CP-—Å–∏—Å—Ç–µ–º–∞ (etcd) | AP-—Å–∏—Å—Ç–µ–º–∞ (Cassandra) |
| :--- | :--- | :--- |
| **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç** | –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö | –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞ |
| **–ü—Ä–∏ —Å–±–æ–µ —Å–µ—Ç–∏** | –û—Ç–∫–∞–∑—ã–≤–∞–µ—Ç –≤ –∑–∞–ø–∏—Å–∏ | –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å —É—Å—Ç–∞—Ä–µ–≤—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ |
| **–û—Å–Ω–æ–≤–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π** | –•—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ | –•—Ä–∞–Ω–µ–Ω–∏–µ –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö, –≥–¥–µ –≤–∞–∂–Ω–∞ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å |

---

## ‚öñÔ∏è –¢–µ–æ—Ä–µ–º–∞ PACELC

!!! abstract "–ß—Ç–æ —Ç–∞–∫–æ–µ —Ç–µ–æ—Ä–µ–º–∞ PACELC?"

    –¢–µ–æ—Ä–µ–º–∞ **PACELC** ‚Äî —ç—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–µ–æ—Ä–µ–º—ã CAP, –∫–æ—Ç–æ—Ä–æ–µ –¥–∞—ë—Ç –±–æ–ª–µ–µ –ø–æ–ª–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–æ–≤ –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö.

    –û–Ω–∞ –≥–ª–∞—Å–∏—Ç: –ï—Å–ª–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **—Ä–∞–∑–¥–µ–ª** —Å–µ—Ç–∏ (**P**artition), —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–±–∏—Ä–∞—Ç—å –º–µ–∂–¥—É **–¥**–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é (**A**vailability) –∏ **—Å**–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å—é (**C**onsistency). **–ò–Ω–∞—á–µ** (**E**lse), –∫–æ–≥–¥–∞ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –æ–Ω–∞ –≤—ã–±–∏—Ä–∞–µ—Ç –º–µ–∂–¥—É **–∑**–∞–¥–µ—Ä–∂–∫–æ–π (**L**atency) –∏ **—Å**–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å—é (**C**onsistency).

    *   **PA/EL**: –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç **–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å** –ø—Ä–∏ —Ä–∞–∑–¥–µ–ª–µ –∏ **–Ω–∏–∑–∫—É—é –∑–∞–¥–µ—Ä–∂–∫—É** –≤ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ (–∂–µ—Ä—Ç–≤—É—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å—é). –ü—Ä–∏–º–µ—Ä: `Cassandra`.
    *   **PC/EC**: –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç **—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** –ø—Ä–∏ —Ä–∞–∑–¥–µ–ª–µ –∏ **—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** –≤ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ (–∂–µ—Ä—Ç–≤—É—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é –∏ –∑–∞–¥–µ—Ä–∂–∫–æ–π). –ü—Ä–∏–º–µ—Ä: `etcd`, `PostgreSQL`.

---

## üõ°Ô∏è –ö–æ–º–ø—Ä–æ–º–∏—Å—Å—ã

### üìä –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å

–¢–µ–æ—Ä–µ–º–∞ CAP –æ–ø–µ—Ä–∏—Ä—É–µ—Ç –±–∏–Ω–∞—Ä–Ω—ã–º –ø–æ–Ω—è—Ç–∏–µ–º "–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å".
–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ü–µ–ª—ã–π —Å–ø–µ–∫—Ç—Ä –º–æ–¥–µ–ª–µ–π.

!!! danger "–õ–∏–Ω–µ–π–Ω–∞—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å (Linearizability) üîë"

    –≠—Ç–æ **—Å–∞–º–∞—è —Å—Ç—Ä–æ–≥–∞—è** —Ñ–æ—Ä–º–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º–∞—è `etcd` (—á–µ—Ä–µ–∑ Raft).
    –û–Ω–∞ —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫–∞–∑–∞–ª–∏—Å—å –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–º–∏ –∏ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–º–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å **—Ä–µ–∞–ª—å–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º** (–º–∏—Ä–æ–≤—ã–º–∏ —á–∞—Å–∞–º–∏).

    –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö.

!!! info "ACID vs BASE: –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏"

    * **ACID (Atomic, Consistent, Isolated, Durable):** –ù–∞–±–æ—Ä —Å–≤–æ–π—Å—Ç–≤ –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –ø—Ä–∏—Å—É—â–∏–π **CP-—Å–∏—Å—Ç–µ–º–∞–º** (`etcd`, `SQL`). –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö —Ü–µ–Ω–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏.
    * **BASE (Basically Available, Soft state, Eventual consistency):** –ù–∞–±–æ—Ä —Å–≤–æ–π—Å—Ç–≤ –¥–ª—è **AP-—Å–∏—Å—Ç–µ–º** (`Cassandra`, `DynamoDB`). –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ—Ç–¥–∞–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏ –≥–∏–±–∫–æ—Å—Ç–∏.

!!! info "–°–∏–ª—å–Ω–∞—è (–ª–∏–Ω–µ–π–Ω–∞—è) –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å (Strong Consistency)"

    –≠—Ç–æ –º–æ–¥–µ–ª—å **CP-—Å–∏—Å—Ç–µ–º**, —Ç–∞–∫–∏—Ö –∫–∞–∫ `etcd`.
    –õ—é–±–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è —á—Ç–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, –æ—Ç—Ä–∞–∂–∞—é—â–µ–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–π –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏.

    –°–∏—Å—Ç–µ–º–∞ –≤–µ–¥—ë—Ç —Å–µ–±—è –∫–∞–∫ –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω–∞—è, –¥–∞–∂–µ –±—É–¥—É—á–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π.
    –≠—Ç–æ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è —Ü–µ–Ω–æ–π –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏—Ö –∑–∞–¥–µ—Ä–∂–µ–∫, —Ç–∞–∫ –∫–∞–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ –∫–≤–æ—Ä—É–º–æ–º —É–∑–ª–æ–≤.

!!! info "–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –≤ –∫–æ–Ω–µ—á–Ω–æ–º —Å—á—ë—Ç–µ (Eventual Consistency)"

    –≠—Ç–æ –º–æ–¥–µ–ª—å **AP-—Å–∏—Å—Ç–µ–º**, —Ç–∞–∫–∏—Ö –∫–∞–∫ `Cassandra`.

    –°–∏—Å—Ç–µ–º–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –µ—Å–ª–∏ –Ω–æ–≤—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è, —Ç–æ *–≤ –∫–æ–Ω–µ—á–Ω–æ–º —Å—á—ë—Ç–µ* –≤—Å–µ —Ä–µ–ø–ª–∏–∫–∏ —Å–æ–π–¥—É—Ç—Å—è –∫ –æ–¥–Ω–æ–º—É –∏ —Ç–æ–º—É –∂–µ –∑–Ω–∞—á–µ–Ω–∏—é.
    –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã—Å–æ–∫—É—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ –Ω–∏–∑–∫—É—é –∑–∞–¥–µ—Ä–∂–∫—É, –Ω–æ –¥–æ–ø—É—Å–∫–∞–µ—Ç —á—Ç–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

### üßÆ –§–æ—Ä–º—É–ª–∞ N, W, R

–í AP-—Å–∏—Å—Ç–µ–º–∞—Ö, —Ç–∞–∫–∏—Ö –∫–∞–∫ `Cassandra` –∏–ª–∏ `Riak`, –º–æ–∂–Ω–æ –≥–∏–±–∫–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å—é —Å –ø–æ–º–æ—â—å—é **–∫–≤–æ—Ä—É–º–æ–≤ —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏**.

*   **N**: –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–ª–∏–∫ –¥–∞–Ω–Ω—ã—Ö.
*   **W**: –ö–≤–æ—Ä—É–º –∑–∞–ø–∏—Å–∏. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–ø–∏—Å—å, —á—Ç–æ–±—ã –æ–Ω–∞ —Å—á–∏—Ç–∞–ª–∞—Å—å —É—Å–ø–µ—à–Ω–æ–π.
*   **R**: –ö–≤–æ—Ä—É–º —á—Ç–µ–Ω–∏—è. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤, —É –∫–æ—Ç–æ—Ä—ã—Ö –Ω—É–∂–Ω–æ –∑–∞–ø—Ä–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ–±—ã —á—Ç–µ–Ω–∏–µ —Å—á–∏—Ç–∞–ª–æ—Å—å —É—Å–ø–µ—à–Ω—ã–º.

!!! success "–§–æ—Ä–º—É–ª–∞ —Å–∏–ª—å–Ω–æ–π –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏: `W + R > N`"

    –ï—Å–ª–∏ —Å—É–º–º–∞ –∫–≤–æ—Ä—É–º–æ–≤ —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏ –±–æ–ª—å—à–µ, —á–µ–º –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–ª–∏–∫, —Å–∏—Å—Ç–µ–º–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç **—Å–∏–ª—å–Ω—É—é –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏**. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ –Ω–∞–±–æ—Ä —É–∑–ª–æ–≤, —Å –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã —á–∏—Ç–∞–µ—Ç–µ, –∏ –Ω–∞–±–æ—Ä —É–∑–ª–æ–≤, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –ø–∏—à–µ—Ç–µ, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –±—É–¥—É—Ç –ø–µ—Ä–µ—Å–µ–∫–∞—Ç—å—Å—è –∫–∞–∫ –º–∏–Ω–∏–º—É–º –Ω–∞ –æ–¥–Ω–æ–º —É–∑–ª–µ, –∫–æ—Ç–æ—Ä—ã–π –≤–µ—Ä–Ω—ë—Ç —Å–∞–º—ã–µ —Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ.

| –ü—Ä–∏–º–µ—Ä (N=3) | W | R | W+R | –†–µ–∑—É–ª—å—Ç–∞—Ç | –°—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **–í—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∑–∞–ø–∏—Å–∏** | 1 | 1 | 2 | –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–∞—è –∑–∞–ø–∏—Å—å, –Ω–æ —á—Ç–µ–Ω–∏–µ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ. | –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫, –ª–æ–≥–æ–≤, –≥–¥–µ –ø–æ—Ç–µ—Ä—è –æ–¥–Ω–æ–π –∑–∞–ø–∏—Å–∏ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞. |
| **–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º** | 2 | 2 | 4 | **–°–∏–ª—å–Ω–∞—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**. –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —á—Ç–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. | –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–æ—Ñ–∏–ª–∏. |
| **–í—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —á—Ç–µ–Ω–∏—è** | 3 | 1 | 4 | **–°–∏–ª—å–Ω–∞—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**. –ë—ã—Å—Ç—Ä–æ–µ —á—Ç–µ–Ω–∏–µ, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å. | –ö–∞—Ç–∞–ª–æ–≥–∏ —Ç–æ–≤–∞—Ä–æ–≤, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –≥–¥–µ –¥–∞–Ω–Ω—ã–µ —Ä–µ–¥–∫–æ –º–µ–Ω—è—é—Ç—Å—è. |

### üíî Split-Brain

!!! danger "–ü—Ä–æ–±–ª–µ–º–∞: Split-Brain (–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–æ–∑–≥–∞)"

    **Split-Brain** ‚Äî —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –∏–∑-–∑–∞ —Å–µ—Ç–µ–≤–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è **–¥–≤–∞ –∏–ª–∏ –±–æ–ª–µ–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –ª–∏–¥–µ—Ä–∞**, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —Å—á–∏—Ç–∞–µ—Ç —Å–µ–±—è –≥–ª–∞–≤–Ω—ã–º.

    –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∏ **–Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ–º—É –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—é –¥–∞–Ω–Ω—ã—Ö**, —Ç–∞–∫ –∫–∞–∫ —Ä–∞–∑–Ω—ã–µ —á–∞—Å—Ç–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–µ –∑–∞–ø–∏—Å–∏.

!!! success "–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã Split-Brain"

    **CP-—Å–∏—Å—Ç–µ–º—ã (Raft/Paxos)** –∞–∫—Ç–∏–≤–Ω–æ –±–æ—Ä—é—Ç—Å—è —Å —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π:

    *   **–†–µ—à–µ–Ω–∏–µ:** –î–ª—è –ª—é–±—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (–≤—ã–±–æ—Ä—ã –ª–∏–¥–µ—Ä–∞, –∑–∞–ø–∏—Å—å) —Ç—Ä–µ–±—É–µ—Ç—Å—è **–∫–≤–æ—Ä—É–º –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞** (`(N/2)+1`). –ï—Å–ª–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–µ—Ç–µ–≤–æ–π —Ä–∞–∑–¥–µ–ª, —Ç–æ–ª—å–∫–æ —Ç–∞ —á–∞—Å—Ç—å –∫–ª–∞—Å—Ç–µ—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è —Å–æ—Ö—Ä–∞–Ω–∏–ª–∞ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —É–∑–ª–æ–≤, —Å–º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å –ª–∏–¥–µ—Ä–∞ –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É. –ú–µ–Ω—å—à–∞—è —á–∞—Å—Ç—å –∫–ª–∞—Å—Ç–µ—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Ä–µ–∂–∏–º **read-only**, —Ç–µ—Ä—è—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (**A**), –Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å (**C**). –≠—Ç–æ –∏ –µ—Å—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤—ã–±–æ—Ä–∞ **CP**.

    **AP-—Å–∏—Å—Ç–µ–º—ã** —Ä–µ—à–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—É –∏–Ω–∞—á–µ:

    *   **–†–µ—à–µ–Ω–∏–µ:** –û–Ω–∏ –¥–æ–ø—É—Å–∫–∞—é—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –∑–∞–ø–∏—Å–∏ –≤ —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç—è—Ö –∫–ª–∞—Å—Ç–µ—Ä–∞, –∞ –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–µ—Ç–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç **–º–µ—Ö–∞–Ω–∏–∑–º—ã —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤**. –ù–∞–ø—Ä–∏–º–µ—Ä, **LWW (Last Write Wins)**, –≥–¥–µ –ø–æ–±–µ–∂–¥–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω—è—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–ø–∏—Å—å, –∏–ª–∏ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ **–≤–µ–∫—Ç–æ—Ä–Ω—ã–µ —á–∞—Å—ã (Vector Clocks)**, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π.

---

## ü§ù –ê–ª–≥–æ—Ä–∏—Ç–º—ã –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞

–ê–ª–≥–æ—Ä–∏—Ç–º –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞ ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥—Ä—É–ø–ø–µ —Å–µ—Ä–≤–µ—Ä–æ–≤ –¥–æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è –æ –µ–¥–∏–Ω–æ–º –∑–Ω–∞—á–µ–Ω–∏–∏ –∏–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–∏, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∏—Ö –æ—Ç–∫–∞–∑–∞–ª–∏. –≠—Ç–æ –æ—Å–Ω–æ–≤–∞ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è **CP-—Å–∏—Å—Ç–µ–º**.

### üö£ Raft

**Raft** ‚Äî —ç—Ç–æ –∞–ª–≥–æ—Ä–∏—Ç–º –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –∫–∞–∫ –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ **Paxos**. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `etcd`, `Consul` –∏ –º–Ω–æ–≥–∏—Ö –¥—Ä—É–≥–∏—Ö —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö.

!!! info "–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ Raft"

    *   **–í—ã–±–æ—Ä—ã –ª–∏–¥–µ—Ä–∞ (Leader Election):** –í –∫–ª–∞—Å—Ç–µ—Ä–µ –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —É–∑–µ–ª-–ª–∏–¥–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –∑–∞–ø–∏—Å—å. –ï—Å–ª–∏ –ª–∏–¥–µ—Ä –æ—Ç–∫–∞–∑—ã–≤–∞–µ—Ç, –æ—Å—Ç–∞–ª—å–Ω—ã–µ —É–∑–ª—ã –∏–Ω–∏—Ü–∏–∏—Ä—É—é—Ç –Ω–æ–≤—ã–µ –≤—ã–±–æ—Ä—ã.
    *   **–†–µ–ø–ª–∏–∫–∞—Ü–∏—è –∂—É—Ä–Ω–∞–ª–∞ (Log Replication):** –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–Ω–∞—á–∞–ª–∞ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ª–æ–≥ –ª–∏–¥–µ—Ä–∞, –∞ –∑–∞—Ç–µ–º —Ä–µ–ø–ª–∏—Ü–∏—Ä—É—é—Ç—Å—è –Ω–∞ —É–∑–ª—ã-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–∏ (followers). –ó–∞–ø–∏—Å—å —Å—á–∏—Ç–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ–π —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –µ—ë –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —É–∑–ª–æ–≤ (**–∫–≤–æ—Ä—É–º**).
    *   **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (Safety):** Raft –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –µ—Å–ª–∏ –∫–∞–∫–æ–π-–ª–∏–±–æ —É–∑–µ–ª –ø—Ä–∏–º–µ–Ω–∏–ª –∑–∞–ø–∏—Å—å –∫ —Å–≤–æ–µ–π –º–∞—à–∏–Ω–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π, –Ω–∏ –æ–¥–∏–Ω –¥—Ä—É–≥–æ–π —É–∑–µ–ª –Ω–µ —Å–º–æ–∂–µ—Ç –ø—Ä–∏–º–µ–Ω–∏—Ç—å –¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —Ç–æ–≥–æ –∂–µ –∏–Ω–¥–µ–∫—Å–∞ –≤ –ª–æ–≥–µ.

!!! failure "–ö–≤–æ—Ä—É–º –∏ –Ω–µ—á—ë—Ç–Ω–æ–µ —á–∏—Å–ª–æ —É–∑–ª–æ–≤"
    –î–ª—è –ª—é–±—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (–≤—ã–±–æ—Ä—ã –ª–∏–¥–µ—Ä–∞, –∑–∞–ø–∏—Å—å) Raft —Ç—Ä–µ–±—É–µ—Ç **–∫–≤–æ—Ä—É–º –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞** (`(N/2)+1`). –≠—Ç–æ –Ω–∞–ø—Ä—è–º—É—é –≤–ª–∏—è–µ—Ç –Ω–∞ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∏ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏—á–∏–Ω–æ–π, –ø–æ—á–µ–º—É –∫–ª–∞—Å—Ç–µ—Ä—ã –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –Ω–µ—á—ë—Ç–Ω–æ–µ —á–∏—Å–ª–æ —É–∑–ª–æ–≤.

    | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ (N) | –ö–≤–æ—Ä—É–º `(N/2)+1` | –î–æ–ø—É—Å—Ç–∏–º–æ–µ —á–∏—Å–ª–æ –æ—Ç–∫–∞–∑–æ–≤ |
    | :--- | :--- | :--- |
    | 1 | 1 | 0 (–Ω–µ—Ç –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏) |
    | 3 | 2 | 1 |
    | 4 | 3 | 1 (–∫–∞–∫ –∏ —É –∫–ª–∞—Å—Ç–µ—Ä–∞ –∏–∑ 3 —É–∑–ª–æ–≤) |
    | 5 | 3 | 2 |
    | 7 | 4 | 3 |

    –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ç–∞–±–ª–∏—Ü—É: –∫–ª–∞—Å—Ç–µ—Ä –∏–∑ 4-—Ö —É–∑–ª–æ–≤ –∏–º–µ–µ—Ç —Ç—É –∂–µ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å, —á—Ç–æ –∏ –∫–ª–∞—Å—Ç–µ—Ä –∏–∑ 3-—Ö (–≤—ã–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ—Ç–∫–∞–∑ –æ–¥–Ω–æ–≥–æ —É–∑–ª–∞), –Ω–æ –ø—Ä–∏ —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ–º —Å–µ—Ç–µ–≤–æ–º —Ä–∞–∑–¥–µ–ª–µ (split-brain) –Ω–∞ –¥–≤–µ –≥—Ä—É–ø–ø—ã –ø–æ 2 —É–∑–ª–∞, **–Ω–∏ –æ–¥–Ω–∞ –∏–∑ –≥—Ä—É–ø–ø –Ω–µ —Å–º–æ–∂–µ—Ç —Å–æ–±—Ä–∞—Ç—å –∫–≤–æ—Ä—É–º –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ (3)**. –≠—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –ø–æ–ª–Ω–æ–π –ø–æ—Ç–µ—Ä–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –Ω–∞ –∑–∞–ø–∏—Å—å.

    **–í—ã–≤–æ–¥:** –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–Ω–µ—á—ë—Ç–Ω–æ–µ** –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ (3, 5 –∏–ª–∏ 7) –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏.

!!! warning "–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ Raft: –í–ª–∏—è–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏"

    *   **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å NTP:** –†–∞—Ñ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Å–ª—É—á–∞–π–Ω—ã–µ (randomized) —Ç–∞–π–º-–∞—É—Ç—ã** –¥–ª—è –≤—ã–±–æ—Ä–æ–≤. –ï—Å–ª–∏ —á–∞—Å—ã —É–∑–ª–æ–≤ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã (NTP), —Ç–∞–π–º-–∞—É—Ç—ã –º–æ–≥—É—Ç —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ª–æ–∂–Ω–æ, –≤—ã–∑—ã–≤–∞—è **–∫–∞—Å–∫–∞–¥ –ø–µ—Ä–µ–≤—ã–±–æ—Ä–æ–≤ –ª–∏–¥–µ—Ä–∞** –∏ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å.
    *   **–ó–∞–¥–µ—Ä–∂–∫–∏ (Latency):** –°–µ—Ç–µ–≤—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –≤—ã—à–µ `election timeout` –º–æ–≥—É—Ç –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—Ç—å—Å—è –∫–∞–∫ –æ—Ç–∫–∞–∑ –ª–∏–¥–µ—Ä–∞. –ö–æ–Ω—Ç—Ä–æ–ª—å **—Å–µ—Ç–µ–≤–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏** –º–µ–∂–¥—É —É–∑–ª–∞–º–∏ ‚Äî **–≥–ª–∞–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ SRE** –≤ Raft-–∫–ª–∞—Å—Ç–µ—Ä–∞—Ö.
    *   **–ù–µ—á—ë—Ç–Ω–æ–µ —á–∏—Å–ª–æ —É–∑–ª–æ–≤:** –ö–ª–∞—Å—Ç–µ—Ä—ã –∏–∑ 3, 5 –∏–ª–∏ 7 —É–∑–ª–æ–≤ —è–≤–ª—è—é—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º. –ö–ª–∞—Å—Ç–µ—Ä –∏–∑ 4-—Ö —É–∑–ª–æ–≤ –∏–º–µ–µ—Ç —Ç—É –∂–µ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å, —á—Ç–æ –∏ –∏–∑ 3-—Ö (–≤—ã–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ—Ç–∫–∞–∑ –æ–¥–Ω–æ–≥–æ —É–∑–ª–∞), –Ω–æ –ø—Ä–∏ —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ 2x2 –Ω–∏ –æ–¥–Ω–∞ –∏–∑ –≥—Ä—É–ø–ø –Ω–µ —Å–º–æ–∂–µ—Ç —Å–æ–±—Ä–∞—Ç—å –∫–≤–æ—Ä—É–º –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞, —á—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –ø–æ–ª–Ω–æ–π –ø–æ—Ç–µ—Ä–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏. –ù–µ—á—ë—Ç–Ω–æ–µ —á–∏—Å–ª–æ —É–∑–ª–æ–≤ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Ç–∞–∫–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏.

### üìú Paxos

**Paxos** ‚Äî —ç—Ç–æ —Å–µ–º–µ–π—Å—Ç–≤–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –õ–µ—Å–ª–∏ –õ—ç–º–ø–æ—Ä—Ç–æ–º. –û–Ω —Å—á–∏—Ç–∞–µ—Ç—Å—è ¬´–¥–µ–¥—É—à–∫–æ–π¬ª –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞ –∏ –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è Raft –±—ã–ª –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –¥–æ–∫–∞–∑–∞–Ω–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º.

Paxos –ª–µ–∂–∏—Ç –≤ –æ—Å–Ω–æ–≤–µ –º–Ω–æ–≥–∏—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º, —Ç–∞–∫–∏—Ö –∫–∞–∫ **Zookeeper** –∏ **Google Chubby**.

–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Å–≤–æ—é –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å, Paxos –ø–µ—á–∞–ª—å–Ω–æ –∏–∑–≤–µ—Å—Ç–µ–Ω —Å–≤–æ–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

!!! abstract "–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è: –î–≤—É—Ö—Ñ–∞–∑–Ω–æ–µ –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ"

    –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π Paxos —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –¥–≤–µ —Ñ–∞–∑—ã –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—Ä–∏ —Ä–æ–ª–∏:

    1.  **Proposer (–ü—Ä–µ–¥–ª–∞–≥–∞—é—â–∏–π):** –£–∑–µ–ª, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Å –Ω–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º.
    2.  **Acceptor (–ü—Ä–∏–Ω–∏–º–∞—é—â–∏–π):** –£–∑–µ–ª, –∫–æ—Ç–æ—Ä—ã–π –≥–æ–ª–æ—Å—É–µ—Ç –∑–∞ –∏–ª–∏ –ø—Ä–æ—Ç–∏–≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.
    3.  **Learner (–£–∑–Ω–∞—é—â–∏–π):** –£–∑–µ–ª, –∫–æ—Ç–æ—Ä—ã–π –ø–∞—Å—Å–∏–≤–Ω–æ —É–∑–Ω–∞—ë—Ç –æ –ø—Ä–∏–Ω—è—Ç–æ–º –∑–Ω–∞—á–µ–Ω–∏–∏.

    **–§–∞–∑–∞ 1: Prepare (–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞)**

    *   `Proposer` –≤—ã–±–∏—Ä–∞–µ—Ç –Ω–æ–º–µ—Ä –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è `n` (–±–æ–ª—å—à–µ –≤—Å–µ—Ö –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö) –∏ —Ä–∞—Å—Å—ã–ª–∞–µ—Ç `prepare(n)`-–∑–∞–ø—Ä–æ—Å –∫–≤–æ—Ä—É–º—É `Acceptor`'–æ–≤.
    *   `Acceptor`'—ã –æ—Ç–≤–µ—á–∞—é—Ç –æ–±–µ—â–∞–Ω–∏–µ–º (`promise`) –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å –Ω–æ–º–µ—Ä–æ–º –º–µ–Ω—å—à–µ `n`. –ï—Å–ª–∏ –æ–Ω–∏ —É–∂–µ –ø—Ä–∏–Ω—è–ª–∏ –∫–∞–∫–æ–µ-—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ, –æ–Ω–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –µ–≥–æ –≤–º–µ—Å—Ç–µ —Å –æ–±–µ—â–∞–Ω–∏–µ–º.

    **–§–∞–∑–∞ 2: Accept (–ü—Ä–∏–Ω—è—Ç–∏–µ)**

    *   –ï—Å–ª–∏ `Proposer` –ø–æ–ª—É—á–∏–ª –æ–±–µ—â–∞–Ω–∏—è –æ—Ç –∫–≤–æ—Ä—É–º–∞, –æ–Ω –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `accept(n, value)`-–∑–∞–ø—Ä–æ—Å. –í –∫–∞—á–µ—Å—Ç–≤–µ `value` –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–∏–±–æ —Å–≤–æ—ë –∑–Ω–∞—á–µ–Ω–∏–µ, –ª–∏–±–æ —Ç–æ, —á—Ç–æ –µ–º—É –≤–µ—Ä–Ω—É–ª–∏ `Acceptor`'—ã –Ω–∞ –ø–µ—Ä–≤–æ–º —ç—Ç–∞–ø–µ (—Å —Å–∞–º—ã–º –±–æ–ª—å—à–∏–º –Ω–æ–º–µ—Ä–æ–º).
    *   `Acceptor`'—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ, –µ—Å–ª–∏ –Ω–µ –¥–∞–≤–∞–ª–∏ –æ–±–µ—â–∞–Ω–∏–µ –¥–ª—è –±–æ–ª–µ–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.

    –ö–∞–∫ —Ç–æ–ª—å–∫–æ –∫–≤–æ—Ä—É–º `Acceptor`'–æ–≤ –ø—Ä–∏–Ω—è–ª –∑–Ω–∞—á–µ–Ω–∏–µ, –æ–Ω–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è **–≤—ã–±—Ä–∞–Ω–Ω—ã–º**.

!!! note "Raft vs. Paxos: –ü–æ—á–µ–º—É Raft —Å—Ç–∞–ª –ø–æ–ø—É–ª—è—Ä–Ω–µ–µ?"

    –•–æ—Ç—è Paxos –±–æ–ª–µ–µ –≥–∏–±–∫–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ –ª–∏–¥–µ—Ä–∞), Raft –±—ã–ª —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω–∞—è –∏ –ø—Ä–∞–∫—Ç–∏—á–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞.

    | –ö—Ä–∏—Ç–µ—Ä–∏–π | Paxos | Raft |
    | :--- | :--- | :--- |
    | **–õ–∏–¥–µ—Ä—Å—Ç–≤–æ** | –°–ª–∞–±–æ–µ, ¬´–¥–µ–º–æ–∫—Ä–∞—Ç–∏—á–Ω–æ–µ¬ª. –õ—é–±–æ–π —É–∑–µ–ª –º–æ–∂–µ—Ç –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ. | **–°–∏–ª—å–Ω–æ–µ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ**. –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω –ª–∏–¥–µ—Ä –º–æ–∂–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏. |
    | **–ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å** | üî¥ –û—á–µ–Ω—å —Å–ª–æ–∂–Ω–æ. –¢—Ä–µ–±—É–µ—Ç –≥–ª—É–±–æ–∫–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤. | üü¢ –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—â–µ. –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–∑–±–∏—Ç –Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —á–∞—Å—Ç–∏ (–≤—ã–±–æ—Ä—ã, —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è). |
    | **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è** | –°–ª–æ–∂–Ω–æ. Paxos ‚Äî —ç—Ç–æ —Å–µ–º–µ–π—Å—Ç–≤–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ (Basic, Multi, Cheap), —á—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç –≤—ã–±–æ—Ä. | –ü—Ä–æ—â–µ. Raft ‚Äî —ç—Ç–æ –æ–¥–∏–Ω, –ø–æ–ª–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º, –≥–æ—Ç–æ–≤—ã–π –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. |

    –î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –ø—Ä–æ—Å—Ç–æ—Ç–∞ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å Raft –æ–∫–∞–∑–∞–ª–∏—Å—å –±–æ–ª–µ–µ —Ü–µ–Ω–Ω—ã–º–∏, —á–µ–º —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –≥–∏–±–∫–æ—Å—Ç—å Paxos.

### üß¨ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: CRDTs

!!! tip "CRDTs: –†–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –≤ AP-—Å–∏—Å—Ç–µ–º–∞—Ö"

    –î–ª—è –º–Ω–æ–≥–∏—Ö **AP-—Å–∏—Å—Ç–µ–º**, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –∏ –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å, –¥–∞–∂–µ –∫–æ–≥–¥–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–≤–º–µ—Å—Ç–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –∫–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫), –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞ **Raft** –∏–ª–∏ **Paxos** –Ω–µ–ø—Ä–∏–º–µ–Ω–∏–º—ã –∏–∑-–∑–∞ –≤—ã—Å–æ–∫–∏—Ö –∑–∞–¥–µ—Ä–∂–µ–∫.

    *   **–ö–æ–Ω—Ü–µ–ø—Ü–∏—è:** **CRDTs (Conflict-Free Replicated Data Types)** ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö (—Å–ø–∏—Å–∫–∏, —Å—á–µ—Ç—á–∏–∫–∏, –º–Ω–æ–∂–µ—Å—Ç–≤–∞), –∫–æ—Ç–æ—Ä—ã–µ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω—ã —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ –ø—Ä–∏ —Å–ª–∏—è–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–∏—à–µ–¥—à–∏—Ö –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤, **–∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤—Å–µ–≥–¥–∞ —Ä–∞–∑—Ä–µ—à–∞—é—Ç—Å—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏**, –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–µ –∏–ª–∏ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–∏.
    *   **LWW (Last Write Wins):** –ü—Ä–æ—Å—Ç–µ–π—à–∏–π CRDT, –≥–¥–µ –∫–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–º–µ–µ—Ç –º–µ—Ç–∫—É –≤—Ä–µ–º–µ–Ω–∏, –∏ –ø–æ–±–µ–∂–¥–∞–µ—Ç —Ç–∞ –∑–∞–ø–∏—Å—å, –∫–æ—Ç–æ—Ä–∞—è –±—ã–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø–æ–∑–∂–µ. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ $Cassandra$ –¥–ª—è –±–∞–∑–æ–≤—ã—Ö —Ç–∏–ø–æ–≤.
    *   **–°–≤—è–∑—å —Å SRE:** –ü–æ–Ω–∏–º–∞–Ω–∏–µ CRDTs –ø–æ–∑–≤–æ–ª—è–µ—Ç SRE **–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω—ã–µ –∫ –æ—Ç–∫–∞–∑–∞–º —Å–µ—Ç–∏**, –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –±–æ—Ä–æ—Ç—å—Å—è –∑–∞ $CP$-–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Ç–∞–º, –≥–¥–µ –æ–Ω–∞ –Ω–µ –Ω—É–∂–Ω–∞.

!!! tip "–õ–æ–≥–∏—á–µ—Å–∫–∏–µ —á–∞—Å—ã (Lamport/Vector Clocks)"

    –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç Raft, –≥–¥–µ –≤–∞–∂–Ω—ã —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ —á–∞—Å—ã, AP-—Å–∏—Å—Ç–µ–º—ã, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ eventual consistency, —á–∞—Å—Ç–æ –ø—Ä–∏–º–µ–Ω—è—é—Ç **–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —á–∞—Å—ã** –∏–ª–∏ **–≤–µ–∫—Ç–æ—Ä–Ω—ã–µ —á–∞—Å—ã** –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–∏—á–∏–Ω–Ω–æ-—Å–ª–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Å–æ–±—ã—Ç–∏—è–º–∏.

    –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑—Ä–µ—à–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏–¥–µ–∞–ª—å–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.